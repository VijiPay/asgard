generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = "postgresql://postgres:123456de@postgres:5432/asgard_db"
}

model User {
  id                     Int        @id @default(autoincrement())
  email                  String     @unique
  password               String
  firstName              String
  lastName               String
  nickname               String?
  phone                  String?
  date_of_birth          String?
  role                   String?
  status                 String?
  type                   String?
  login_ip               String?
  platform_id            String?
  last_login             DateTime?
  password_reset         Boolean?
  password_reset_token   String?
  password_reset_expires DateTime?
  user_locked            Boolean?
  user_locked_message    String?
  user_locked_date       DateTime?
  user_locked_by         String?
  api_key                String?
  authy_id               Int?
  phone_verified         Boolean?
  phone_verify_code      String?
  phone_verify_expires   DateTime?
  phone_verify_date      DateTime?
  email_verified         Boolean?
  email_verify_code      String?
  email_verify_expires   DateTime?
  email_verify_date      DateTime?
  payment_method         Json?
  address                Json?
  organization           Json?
  business               Json?
  broker                 Json?
  individual             Json?
  metadata               Json?
  fraud_score            Int?
  tos_acceptance         Json?
  country_code           String?
  webhooks               Json?
  Business               Business[]

  @@map(name: "users") // use "users" as the table name
}

model Business {
  id                 Int      @id @default(autoincrement())
  type               String?
  cac_number         String?
  registered_address String?
  business_name      String?
  business_email     String?
  business_phone     String?
  business_website   String?
  persons            User     @relation(fields: [userId], references: [id])
  social_media       Json?
  isverified         Boolean?
  isFraud            Boolean?
  status             String?
  userId             Int

  @@map(name: "businesses") // use "businesses" as the table name
}
